<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    

    <script>
        if(sessionStorage.getItem('loggedin') == null){
            window.location.replace('login.html');
        }
    </script>
</head>
<body bgcolor="gold">
    <center><h1></h1></center>
    <hr color="purple" size="5">
    <hr color="purple" size="1">
    <marquee behavior="alternate">Welcome to Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quaerat alias asperiores pariatur non impedit cupiditate labore, totam velit eos voluptas numquam repellat illum nesciunt tempore dolore saepe veritatis laborum possimus necessitatibus accusantium dignissimos qui. Facere voluptatibus reiciendis, quas nam expedita ducimus non sit quis amet omnis officia aliquam soluta dolore error, nisi alias corrupti voluptates rerum in laboriosam numquam eius. Voluptatum, totam voluptate quo officiis repudiandae vero atque? Sapiente accusamus architecto consequatur rem quae sint similique doloremque quibusdam perspiciatis, ab at maiores ad aut soluta quod ullam cumque, pariatur delectus esse. Porro debitis officiis ex distinctio, dolor nihil odit consequuntur voluptatibus quaerat aperiam eligendi inventore eveniet ipsa labore facere illum ratione asperiores eaque voluptas sunt ut cupiditate voluptates itaque culpa! Deserunt error, ut tenetur doloribus unde maxime ad quo illum quaerat libero, eius porro doloremque nostrum quae ipsa! Officia ratione labore aliquid non aut ut dignissimos maxime culpa quibusdam delectus dolore cum quos natus omnis minima illum atque, repudiandae enim fugiat. Molestias eveniet sint incidunt neque minima repellat, laudantium eaque sed soluta quibusdam facilis sunt natus? Nihil, quam, deserunt eveniet dignissimos obcaecati harum sed cumque asperiores maxime hic pariatur optio assumenda. Explicabo, suscipit! Delectus obcaecati dolorum nihil, repudiandae earum minus!</marquee>
    <hr color="purple" size="1">
    <hr color="purple" size="5">
    <table width="70%" align="center" border="30" cellspacing="10" cellpadding="10">
        <caption>User Profile Update</caption>
        <tr>
            <th>First Name</th>
            <td colspan="2" id="fname"></td>
        </tr>
        <tr>
            <th>Email</th>
            <td colspan="2" id="email"></td>
        </tr>
        <tr>
            <th>Password</th>
            <td id="pass"></td>
            <td><input type="password" id="cpass"><span>
                <button type="button" id="btn_edit">Change</button><br>
                <input type="checkbox" id="show">
                <br>
                <label for="show">&nbsp;&nbsp;&nbsp; show passwords</label>
            </span></td>
        </tr>
    </table>
    <br><br><br><br>
    <center>
    <button type="button" id="logout">Logout</button>

    <script>
        // change password
        const btn_edit = document.querySelector('#btn_edit');
        const cpass = document.querySelector('#cpass');
        btn_edit.addEventListener('click', () => {
            let act_sub = confirm("Are you set to change your password ?");
            if(act_sub == true){
                if(cpass.value == ''){
                    alert('please enter the new password first..');
                }else{
                    sessionStorage.setItem('pass', cpass.value);
                    alert('Password changed successfully, ok');
                    window.location.reload();
                }
            }
        });

    
        const logout = document.querySelector('#logout');
        const fname = document.querySelector('#fname');
        const email = document.querySelector('#email');
        const pass = document.querySelector('#pass');
        const h1 = document.querySelector('h1');
        h1.innerHTML = 'Hello <font color="purple">'+ sessionStorage.getItem('firstname') +'</font>, Welcome to your Dashboard!';
        fname.innerHTML = sessionStorage.getItem('firstname');
        email.innerHTML = sessionStorage.getItem('email');
        pass.innerHTML = sessionStorage.getItem('pass');
        cpass.value = sessionStorage.getItem('pass');
        
        logout.addEventListener('click', () => {
            sessionStorage.removeItem('loggedin');
            window.location.replace('login.html');
        });

        // show password
        const show = document.querySelector('#show');
        show.addEventListener('change', function(){
            if(show.checked){
                cpass.type = 'text';
            }else{
                cpass.type = 'password';
            }
        });
    </script>
</body>
</html>
